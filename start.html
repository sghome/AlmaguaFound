<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Crowdfunding | Almagua.</title>
    <link rel="shortcut icon" href="/img/piggy-bank.png"/>
    <link href="https://fonts.googleapis.com/css?family=Hind+Vadodara:400,700|Mukta:500,700" rel="stylesheet">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/start.css">
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">

    <script src="https://unpkg.com/scrollreveal@4.0.0/dist/scrollreveal.min.js"></script>
</head>
<body class="is-boxed has-animations">
    <div class="body-wrap boxed-container">
        <header class="site-header campaign" style="border-bottom: 1px solid #CCC">
            <div class="container">
                <div class="site-header-inner">
                  <div style="float: right; right: 0; position: absolute;">
                    Logged in as: <span id="user">0x00000</span>
                  </div>
                    <div class="brand header-brand" style="margin: 0 auto;">
                        <h1 class="m-0">
                            <a href="/" style="    font-size: 28px;
    margin-left: 10px;
    text-decoration: none;
        vertical-align: bottom !important;">
                              <img src="/img/piggy-bank.svg" style="width: 46px; float: left; margin-top: 4px !important;"/> Almagua
                            </a>
                        </h1>
                    </div>
                </div>
            </div>
        </header>

        <main>
          <center>
            <h2>Crear una Campaña:</h2>
          </center>
<br />
          <div class="containerOLD start-form">
            <form action="start.html" method="post" onsubmit="event.preventDefault(); submitForm(); return false;">
              <div class="w3-row">

                <div class="w3-half">
                  <div class="row">
                    <div class="col-25">
                      <label for="title">Titulo</label>
                    </div>
                    <div class="col-75">
                      <input type="text" id="title" name="title" placeholder="Titulo para el proyecto... (Ejemplo. My Nuevo Proyecto)" required>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-25">
                      <label for="slogan">Frase</label>
                    </div>
                    <div class="col-75">
                      <input type="text" id="slogan" name="slogan" placeholder="Frase corta para el proyecto... (Ejemplo. Un proyecto para todos!)" required>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-25">
                      <label for="url">Pagina web</label>
                    </div>
                    <div class="col-75">
                      <input type="text" id="url" name="url" placeholder="Pagina Web o Link con informacion legal de la comunidad... (Ejemplo. myproyecto.com)">
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-25">
                      <label for="country">Una Foto</label>
                    </div>
                    <div class="col-75">
                      <input type="file" name="appimage" id="appimage" />
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-25">
                      <label for="country">Un Video</label>
                    </div>
                    <div class="col-75">
                      <input type="file" name="appvideo" id="appvideo" />
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-25">
                      <label for="days">Duración</label>
                    </div>
                    <div class="col-25">
                      <input type="number" id="days" name="days" placeholder="Dias" required />
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-25">
                      <label for="goalAmount">Monto a recaudar</label>
                    </div>
                    <div class="col-25">
                      <input type="number" id="goalAmount" step="0.01" name="goalAmount" placeholder="En ETH" required />
                    </div>
                  </div>
                  <div class="row">
                    <input type="submit" id="submit-button" value="Submit" />
                  </div>
                </div>

                <div class="w3-half">
                  <div id="editor-container" style="height: 400px">
                  </div>
                </div>

              </div>
            </form>
          </div>

          <br />
        </main>


        <footer class="site-footer text-light">
            <div class="container">
                <div class="site-footer-inner has-top-divider">
                    <div class="brand footer-brand">
                        <a href="#">
                            <img src="/img/piggy-bank.svg" style="height: 55px;" />
                        </a>
                    </div>
                    <ul class="footer-links list-reset">
                        <li>
                            <a href="#">Nosotros</a>
                        </li>
                        <li>
                            <a href="#">Contacto</a>
                        </li>
                        <li>
                            <a href="https://discord.com/">Preguntas</a>
                        </li>
                        <li>
                            <a href="#">Soporte</a>
                        </li>
                    </ul>
                    <ul class="footer-social-links list-reset">
                        <li>
                            <a href="https://www.instagram.com/fundacionalmagua/?hl=es">
                                <span class="screen-reader-text">Instagram</span>
                                <svg width="16" height="16" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M16 3c-.6.3-1.2.4-1.9.5.7-.4 1.2-1 1.4-1.8-.6.4-1.3.6-2.1.8-.6-.6-1.5-1-2.4-1-1.7 0-3.2 1.5-3.2 3.3 0 .3 0 .5.1.7-2.7-.1-5.2-1.4-6.8-3.4-.3.5-.4 1-.4 1.7 0 1.1.6 2.1 1.5 2.7-.5 0-1-.2-1.5-.4C.7 7.7 1.8 9 3.3 9.3c-.3.1-.6.1-.9.1-.2 0-.4 0-.6-.1.4 1.3 1.6 2.3 3.1 2.3-1.1.9-2.5 1.4-4.1 1.4H0c1.5.9 3.2 1.5 5 1.5 6 0 9.3-5 9.3-9.3v-.4C15 4.3 15.6 3.7 16 3z" fill="#FFFFFF"/>
                                </svg>
                            </a>
                        </li>
                        <li>
                            <a href="https://twitter.com/">
                                <span class="screen-reader-text">Twitter</span>
                                <svg width="16" height="16" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M16 3c-.6.3-1.2.4-1.9.5.7-.4 1.2-1 1.4-1.8-.6.4-1.3.6-2.1.8-.6-.6-1.5-1-2.4-1-1.7 0-3.2 1.5-3.2 3.3 0 .3 0 .5.1.7-2.7-.1-5.2-1.4-6.8-3.4-.3.5-.4 1-.4 1.7 0 1.1.6 2.1 1.5 2.7-.5 0-1-.2-1.5-.4C.7 7.7 1.8 9 3.3 9.3c-.3.1-.6.1-.9.1-.2 0-.4 0-.6-.1.4 1.3 1.6 2.3 3.1 2.3-1.1.9-2.5 1.4-4.1 1.4H0c1.5.9 3.2 1.5 5 1.5 6 0 9.3-5 9.3-9.3v-.4C15 4.3 15.6 3.7 16 3z" fill="#FFFFFF"/>
                                </svg>
                            </a>
                        </li>
                        <li>
                            <a href="https://discord.com/">
                                <span class="screen-reader-text">Discord</span>
                                <svg width="16" height="16" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M16 3c-.6.3-1.2.4-1.9.5.7-.4 1.2-1 1.4-1.8-.6.4-1.3.6-2.1.8-.6-.6-1.5-1-2.4-1-1.7 0-3.2 1.5-3.2 3.3 0 .3 0 .5.1.7-2.7-.1-5.2-1.4-6.8-3.4-.3.5-.4 1-.4 1.7 0 1.1.6 2.1 1.5 2.7-.5 0-1-.2-1.5-.4C.7 7.7 1.8 9 3.3 9.3c-.3.1-.6.1-.9.1-.2 0-.4 0-.6-.1.4 1.3 1.6 2.3 3.1 2.3-1.1.9-2.5 1.4-4.1 1.4H0c1.5.9 3.2 1.5 5 1.5 6 0 9.3-5 9.3-9.3v-.4C15 4.3 15.6 3.7 16 3z" fill="#FFFFFF"/>
                                </svg>
                            </a>
                        </li>
                    </ul>
                    <div class="footer-copyright">&copy; 2021 Crowdfound Almagua. Todos los derechos reservados.</div>
                </div>
            </div>
        </footer>
    </div>

    <div id="loader" style="display: none;"><img src="/img/oval.svg" /></div>

    <!-- Web3 -->
    <script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js@1.0.0-beta.33/dist/web3.min.js"></script>
    <!-- Blockstack.js -->
    <script src="https://unpkg.com/blockstack@19.2.1/dist/blockstack.js" integrity="sha384-+qYCYoUGzsMLAzHm80c4DyhbWgHBBb2N0RFqsg7Lws5ljtBtj/IwpgxZkiR7j7lp" crossorigin="anonymous"></script>

    <script>
    function showProfile(profile, tokenObj) {
      var person = new blockstack.Person(profile)

      document.getElementById('user').innerHTML = '<b>'+tokenObj.payload.username.replace('.id.blockstack', '')+'</b>';
      /*
      document.getElementById('avatar-image').setAttribute('src', person.avatarUrl())
      document.getElementById('section-1').style.display = 'none'
      document.getElementById('section-2').style.display = 'block'
      */
    }

    if (blockstack.isUserSignedIn()) {
      var authResponseToken = blockstack.loadUserData().authResponseToken;
      var decodedToken = blockstack.decodeToken(authResponseToken);
      console.log(decodedToken, decodedToken.username);

      const userData = blockstack.loadUserData()
      showProfile(userData.profile, decodedToken)
    } else if (blockstack.isSignInPending()) {
      blockstack.handlePendingSignIn()
      .then(userData => {
        var authResponseToken = blockstack.loadUserData().authResponseToken;
        var decodedToken = blockstack.decodeToken(authResponseToken);
        showProfile(userData.profile, decodedToken)
      })
    }
    </script>

    <!-- IPFS -->
    <script src="https://unpkg.com/ipfs-http-client/dist/index.min.js"></script>
    <!-- IPFS + Buffer -->
    <script src="https://npmcdn.com/ipfs-api/dist/index.js"></script>

    <script src="/js/main.min.js"></script>
    <script src="/js/main.js"></script>

    <!-- Include the Quill library -->
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
    <script>
    var fonts = ['sofia', 'slabo', 'roboto', 'inconsolata', 'ubuntu'];
    var Font = Quill.import('formats/font');
    Font.whitelist = fonts;
    Quill.register(Font, true);
    var quill = new Quill('#editor-container', {
      modules: {
        'toolbar': [
              [{ 'font': [] }, { 'size': [] }],
              [ 'bold', 'italic', 'underline', 'strike' ],
              [{ 'color': [] }, { 'background': [] }],
              [{ 'script': 'super' }, { 'script': 'sub' }],
              [{ 'header': '1' }, { 'header': '2' }, 'blockquote', 'code-block' ],
              [{ 'list': 'ordered' }, { 'list': 'bullet'}, { 'indent': '-1' }, { 'indent': '+1' }],
              [ {'direction': 'rtl'}, { 'align': [] }],
              [ 'link', 'image', 'video', 'formula' ],
              [ 'clean' ]
            ],
      },
      placeholder: 'Descripción detallada de la campaña, recuerde adjuntar informacion de la figura juridica, cedula y/o nit.',
      theme: 'snow'  // or 'bubble'
    });
    </script>

</body>
</html>
